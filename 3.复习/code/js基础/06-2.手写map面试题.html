<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            需求:手写实现对象的map方法(参考数组map)
            数组的map特点:
                1.map一共可以接受两个实参
                    第一个实参数据类型必须是函数,数组中每有一项就会执行一次该函数
                        回调函数接受3个参数
                            1.item->代表遍历数组中得到的每一项(相当于对象的value)
                            2.index->代表遍历数组中得到的每一项的下标(相当于对象的key)
                    第二个实参是回调函数的this指向,可以不传
                2.根据旧数组生成全新的数组,不会影响到旧数组
                3.新数组中的每一项的结果,由回调函数的返回值决定
        */

        // Object.prototype.map=function(cb){
        //     // this->obj对象
        //     const newObj = {};
            
        //     // 获取到当前对象身上所有的属性名
        //     const keys = Object.keys(this);
        //     // console.log(keys)

        //     var that = this;
        //     // 遍历属性名组成的数组
        //     keys.forEach(function(key){
        //         // 每有一个属性名,就会调用一次回调函数
        //         newObj[key] = cb(that[key],key)
        //     })

        //     return newObj;
        // }

        // Object.prototype.map=function(cb){
        //     // this->obj对象
        //     const newObj = {};
            
        //     // 获取到当前对象身上所有的属性名
        //     for(let key in this){
        //         // for...in是可以遍历当前对象的所有的可枚举属性,包括原型链上的
                
        //         // 如何判断某个属性是否属于当前对象
        //         if(this.hasOwnProperty(key)){
        //             newObj[key] = cb(this[key],key)
        //         }
        //         // console.log(this.hasOwnProperty("map"))
        //     }

        //     return newObj;
        // }


        var obj = {
            name:"xiaoming",
            age:18
        }
        // var newObj = obj.map((value,key)=>{
        //     return value+="1";
        // })
        // console.log(obj,newObj)
        
        // console.log(obj===JSON.parse(JSON.stringify(obj)))
        const newObj = JSON.parse(JSON.stringify(obj),function(key,value){
            // console.log(key,value)
            if(key){
                return value+="2"
            }else{
                return value;
            }
        })
        console.log(newObj)
        /*
            newObj ={
                name:"xiaoming1",
                age:"181"
            }
        
        */

        // var arr = [1,2,3];
        // var newArr = arr.map((item,index)=>{
        //     return item*3
        // })
        // console.log(newArr)

    </script>
</body>
</html>