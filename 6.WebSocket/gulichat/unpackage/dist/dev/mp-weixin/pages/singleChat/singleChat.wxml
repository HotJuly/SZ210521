<view class="container data-v-a5ac62a6"><view class="scroll data-v-a5ac62a6" style="{{'height:'+(scrollHeight)+';'}}"><scroll-view style="height:100%;" scroll-into-view="{{scrollViewId}}" scroll-y class="data-v-a5ac62a6"><view class="item-space data-v-a5ac62a6"></view><block wx:for="{{list}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="data-v-a5ac62a6"><block wx:if="{{item.msgType=='cancel'}}"><view class="cancel data-v-a5ac62a6"><block wx:if="{{item.source==fromUserId}}"><text class="text data-v-a5ac62a6">你撤回了一条消息</text></block><block wx:else><text class="text data-v-a5ac62a6">{{"成员 "+item.source+" 撤回了一条消息"}}</text></block></view></block><block wx:else><view class="{{['item flex-row data-v-a5ac62a6',item.source==fromUserId?'right':'left']}}"><block wx:if="{{item.source==fromUserId}}"><view class="data-v-a5ac62a6"><block wx:if="{{fromUserFace}}"><image class="face data-v-a5ac62a6" src="{{fromUserFace}}"></image></block><block wx:else><image class="face data-v-a5ac62a6" src="../../../static/img/face.png"></image></block></view></block><block wx:else><view class="data-v-a5ac62a6"><block wx:if="{{item.toUserFace||item.userFace}}"><image class="face data-v-a5ac62a6" src="{{item.toUserFace||item.userFace}}"></image></block><block wx:else><image class="face data-v-a5ac62a6" src="../../../static/img/face.png"></image></block></view></block><block wx:if="{{item.msgType=='text'}}"><view data-event-opts="{{[['longpress',[['longPress',['$0'],[[['list','',index]]]]]]]}}" class="content flex-row data-v-a5ac62a6" bindlongpress="__e">{{item.content}}</view></block><block wx:if="{{item.msgType=='image'}}"><image style="width:320rpx;" src="{{item.content}}" mode="widthFix" data-event-opts="{{[['longpress',[['longPress',['$0'],[[['list','',index]]]]]]]}}" bindlongpress="__e" class="data-v-a5ac62a6"></image></block><block wx:if="{{item.msgType=='map'}}"><view data-event-opts="{{[['tap',[['openLocation',['$0'],[[['list','',index,'content']]]]]]]}}" class="content map data-v-a5ac62a6" bindtap="__e"><view class="title data-v-a5ac62a6">{{item.content.address}}</view><map class="box data-v-a5ac62a6" latitude="{{item.content.latitude}}" longitude="{{item.content.longitude}}" markers="{{[{latitude:item.content.latitude,longitude:item.content.longitude,iconPath:'../../../static/img/marker.png'}]}}" data-event-opts="{{[['tap',[['openLocation',['$0'],[[['list','',index,'content']]]]]]]}}" bindtap="__e"></map></view></block><block wx:if="{{item.msgType=='voice'}}"><view data-event-opts="{{[['tap',[['playVoice',['$0'],[[['list','',index]]]]]]]}}" class="content data-v-a5ac62a6" bindtap="__e"><image hidden="{{!(voicePlayingId!=item.id)}}" class="voice-icon data-v-a5ac62a6" src="../../../static/img/audio.png"></image><image hidden="{{!(voicePlayingId==item.id)}}" class="voice-icon data-v-a5ac62a6" src="../../../static/img/audio-play.gif"></image></view></block></view></block></view></block><view id="bottom" class="data-v-a5ac62a6"></view></scroll-view></view><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="oper flex-row data-v-a5ac62a6" catchtap="__e"><block wx:if="{{isEdit}}"><image class="icon data-v-a5ac62a6" src="../../../static/img/voice-circle.png" data-event-opts="{{[['tap',[['toggleEdit',[false]]]]]}}" bindtap="__e"></image></block><block wx:else><image class="icon data-v-a5ac62a6" src="../../../static/img/keyboard.png" data-event-opts="{{[['tap',[['toggleEdit',[true]]]]]}}" bindtap="__e"></image></block><block wx:if="{{isEdit}}"><input class="input data-v-a5ac62a6" focus="{{isFocus}}" cursor-spacing="{{8}}" adjust-position="{{false}}" type="text" placeholder="请输入内容" data-event-opts="{{[['focus',[['inputFocus',['$event']]]],['input',[['__set_model',['','content','$event',[]]]]]]}}" value="{{content}}" bindfocus="__e" bindinput="__e"/></block><block wx:else><view data-event-opts="{{[['touchstart',[['startVoice',['$event']]]],['touchend',[['endVoice',['$event']]]]]}}" class="input data-v-a5ac62a6" style="text-align:center;" bindtouchstart="__e" bindtouchend="__e">按住开吼</view></block><image class="icon data-v-a5ac62a6" src="../../../static/img/emoji.png" data-event-opts="{{[['tap',[['togglePicker',[200,'emoji']]]]]}}" bindtap="__e"></image><view data-event-opts="{{[['touchend',[['send',['$event']]]]]}}" hidden="{{!(content)}}" class="btn data-v-a5ac62a6" bindtouchend="__e">发送</view><image hidden="{{!(!content)}}" class="icon data-v-a5ac62a6" src="../../../static/img/add.png" data-event-opts="{{[['tap',[['togglePicker',[86,'file']]]]]}}" bindtap="__e"></image></view><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" hidden="{{!(showEmoji)}}" class="emoji data-v-a5ac62a6" catchtap="__e"><view class="list data-v-a5ac62a6"><block wx:for="{{emojis}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="item data-v-a5ac62a6" bindtap="__e">{{item}}</view></block></view></view></view>